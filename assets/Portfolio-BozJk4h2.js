import{r as i,a as H,g as G,b as X,j as s,c as Y,u as B,L as J,d as K}from"./index-DNAcB025.js";const Q=(e,n,t,a)=>{const c=[t,{code:n,...a||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(c,"warn","react-i18next::",!0);w(c[0])&&(c[0]=`react-i18next:: ${c[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...c):console?.warn&&console.warn(...c)},A={},M=(e,n,t,a)=>{w(t)&&A[t]||(w(t)&&(A[t]=new Date),Q(e,n,t,a))},F=(e,n)=>()=>{if(e.isInitialized)n();else{const t=()=>{setTimeout(()=>{e.off("initialized",t)},0),n()};e.on("initialized",t)}},O=(e,n,t)=>{e.loadNamespaces(n,F(e,t))},U=(e,n,t,a)=>{if(w(t)&&(t=[t]),e.options.preload&&e.options.preload.indexOf(n)>-1)return O(e,t,a);t.forEach(c=>{e.options.ns.indexOf(c)<0&&e.options.ns.push(c)}),e.loadLanguages(n,F(e,a))},V=(e,n,t={})=>!n.languages||!n.languages.length?(M(n,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:n.languages}),!0):n.hasLoadedNamespace(e,{lng:t.lng,precheck:(a,c)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!c(a.isLanguageChangingTo,e))return!1}}),w=e=>typeof e=="string",Z=e=>typeof e=="object"&&e!==null,ee=i.createContext();class ne{constructor(){this.usedNamespaces={}}addUsedNamespaces(n){n.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var C={exports:{}},k={};var q;function te(){if(q)return k;q=1;var e=H();function n(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var t=typeof Object.is=="function"?Object.is:n,a=e.useState,c=e.useEffect,r=e.useLayoutEffect,h=e.useDebugValue;function d(o,l){var x=l(),v=a({inst:{value:x,getSnapshot:l}}),y=v[0].inst,N=v[1];return r(function(){y.value=x,y.getSnapshot=l,b(y)&&N({inst:y})},[o,x,l]),c(function(){return b(y)&&N({inst:y}),o(function(){b(y)&&N({inst:y})})},[o]),h(x),x}function b(o){var l=o.getSnapshot;o=o.value;try{var x=l();return!t(o,x)}catch{return!0}}function g(o,l){return l()}var S=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:d;return k.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:S,k}var D;function se(){return D||(D=1,C.exports=te()),C.exports}var re=se();const ae=(e,n)=>w(n)?n:Z(n)&&w(n.defaultValue)?n.defaultValue:Array.isArray(e)?e[e.length-1]:e,oe={t:ae,ready:!1},ie=()=>()=>{},ce=(e,n={})=>{const{i18n:t}=n,{i18n:a,defaultNS:c}=i.useContext(ee)||{},r=t||a||G();r&&!r.reportNamespaces&&(r.reportNamespaces=new ne),r||M(r,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const h=i.useMemo(()=>({...X(),...r?.options?.react,...n}),[r,n]),{useSuspense:d,keyPrefix:b}=h,g=c||r?.options?.defaultNS,S=w(g)?[g]:g||["translation"],o=i.useMemo(()=>S,S);r?.reportNamespaces?.addUsedNamespaces?.(o);const l=i.useRef(0),x=i.useCallback(f=>{if(!r)return ie;const{bindI18n:u,bindI18nStore:m}=h,p=()=>{l.current+=1,f()};return u&&r.on(u,p),m&&r.store.on(m,p),()=>{u&&u.split(" ").forEach(_=>r.off(_,p)),m&&m.split(" ").forEach(_=>r.store.off(_,p))}},[r,h]),v=i.useRef(),y=i.useCallback(()=>{if(!r)return oe;const f=!!(r.isInitialized||r.initializedStoreOnce)&&o.every(W=>V(W,r,h)),u=n.lng||r.language,m=l.current,p=v.current;if(p&&p.ready===f&&p.lng===u&&p.keyPrefix===b&&p.revision===m)return p;const z={t:r.getFixedT(u,h.nsMode==="fallback"?o:o[0],b),ready:f,lng:u,keyPrefix:b,revision:m};return v.current=z,z},[r,o,b,h,n.lng]),[N,I]=i.useState(0),{t:L,ready:j}=re.useSyncExternalStore(x,y,y);i.useEffect(()=>{if(r&&!j&&!d){const f=()=>I(u=>u+1);n.lng?U(r,n.lng,o,f):O(r,o,f)}},[r,n.lng,o,j,d,N]);const E=r||{},R=i.useRef(null),T=i.useRef(),P=f=>{const u=Object.getOwnPropertyDescriptors(f);u.__original&&delete u.__original;const m=Object.create(Object.getPrototypeOf(f),u);if(!Object.prototype.hasOwnProperty.call(m,"__original"))try{Object.defineProperty(m,"__original",{value:f,writable:!1,enumerable:!1,configurable:!1})}catch{}return m},$=i.useMemo(()=>{const f=E,u=f?.language;let m=f;f&&(R.current&&R.current.__original===f?T.current!==u?(m=P(f),R.current=m,T.current=u):m=R.current:(m=P(f),R.current=m,T.current=u));const p=[L,m,j];return p.t=L,p.i18n=m,p.ready=j,p},[L,E,j,E.resolvedLanguage,E.language,E.languages]);if(r&&d&&!j)throw new Promise(f=>{const u=()=>f();n.lng?U(r,n.lng,o,u):O(r,o,u)});return $};function le({logoPath:e,repo:n}){const t=e.split("/"),c=t[t.length-1].split(".")[0];return s.jsx("section",{children:s.jsx("a",{href:n,target:"_blank","aria-label":n,children:s.jsx("img",{src:e,alt:c,loading:"lazy",className:"m-2"})})})}function ue({paths:e,repo:n}){let t=new Set;return e.forEach(a=>{t.add(s.jsx(le,{logoPath:a,repo:n},a))}),t.size>1?s.jsx("div",{className:`
                flex 
                flex-wrap 
                shrink-0 
                justify-between 
                items-center`,children:t}):t.size===1?t:s.jsx(s.Fragment,{})}function de({summary:e,children:n}){const t=i.useRef(null),[a,c]=i.useState(!1),[r,h]=i.useState("0px"),[d,b]=i.useState(!1),g=i.useId(),S=()=>{a?(h("0px"),c(!1)):(b(!0),c(!0))},{t:o}=ce();return i.useEffect(()=>{d&&a&&t.current&&requestAnimationFrame(()=>{const l=t.current?.scrollHeight;h(`${l}px`)})},[d,a]),i.useEffect(()=>{const l=t.current;if(!l)return;const x=I=>{I.propertyName==="max-height"&&(a||(b(!1),h("0px")))};if("ontransitionend"in window||"onwebkittransitionend"in window)return l.addEventListener("transitionend",x),()=>{l.removeEventListener("transitionend",x)};const N=setTimeout(()=>{x({propertyName:"max-height"})},600);return()=>clearTimeout(N)},[a]),i.useEffect(()=>{a&&d&&t.current&&t.current.focus()},[a,d]),s.jsxs("div",{className:`
      w-full 
      overflow-hidden 
      rounded 
      shadow`,children:[s.jsxs("button",{type:"button","aria-expanded":a,"aria-controls":g,onClick:S,className:`
          w-full  
          cursor-pointer 
          flex 
          justify-between 
          items-center 
          px-4 
          py-3 
          font-semibold 
          text-blue-500 
          hover:bg-gray-700 
          focus-visible:bg-gray-700 
          focus-visible:outline-2 
          focus-visible:outline-blue-500
          select-none`,children:[e,s.jsx("span",{"aria-hidden":"true","data-open":a,className:`
            inline-block 
            motion-safe:transition-transform 
            motion-safe:duration-600 
            motion-safe:ease-in-out 
            motion-safe:rotate-180
            data-[open=false]:rotate-0`,children:"▼"})]}),s.jsx("div",{id:g,ref:t,tabIndex:-1,style:{maxHeight:r},className:`
          relative
          overflow-hidden
          motion-safe:transition-[max-height]
          motion-safe:duration-600
          motion-safe:ease-in-out`,children:d&&s.jsx("div",{className:`
              px-4 
              py-3`,children:n})}),s.jsx("div",{"aria-live":"polite",className:"sr-only","aria-atomic":"true",children:o(a?"section.opened":"section.closed")})]})}function fe({project:e,projectsPath:n}){const t=e.title.split(",")[0],a=Y+n+e.fileName,c=new Set,{getLogoURI:r}=B();return e.logos.forEach(h=>{const d=r(h);c.add(d)}),s.jsxs("article",{className:`
            my-8 
            mx-4 
            bg-gray-900  
            max-w-lg   
            rounded-4xl 
            shadow-xs`,children:[s.jsxs("div",{className:`
                    p-6 
                    text-center`,children:[s.jsxs("span",{className:`
                        group 
                        relative 
                        inline-flex 
                        items-center 
                        bg-brand-softer 
                        text-fg-brand-strong 
                        text-xs 
                        font-medium 
                        px-1.5 
                        py-0.5 
                        rounded-sm`,children:[s.jsx("a",{href:e.URL,target:"_blank","aria-label":e.title,className:`
                            motion-safe:transition-transform 
                            motion-safe:duration-600 
                            motion-safe:ease-in-out 
                            motion-safe:hover:scale-110  
                            focus-visible:outline-2 
                            focus-visible:outline-blue-500 
                            hover:drop-shadow-[0_0_2em_rgba(100,108,255,0.6)] 
                            focus-visible:drop-shadow-[0_0_2em_rgba(100,108,255,0.6)]`,children:s.jsx("img",{src:a,className:`
                                w-full 
                                h-max 
                                transition-shadow 
                                duration-600 
                                ease-in-out`,alt:t,loading:"lazy"})}),s.jsx(J,{})]}),s.jsx("h4",{className:`
                        m-6 
                        text-2xl 
                        leading-loose 
                        text-orange-500 
                        font-semibold 
                        tracking-tight 
                        text-heading`,children:e.title}),s.jsx(ue,{paths:c,repo:e.repository})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs(de,{summary:"Découvrez ce projet",children:[s.jsx("h6",{className:"font-extrabold mt-2",children:"contexte"}),s.jsx("p",{children:e.contexte}),s.jsx("h6",{className:"font-extrabold mt-2",children:"objectifs"}),s.jsx("p",{children:e.objectifs}),s.jsx("h6",{className:"font-extrabold mt-2",children:"stack technique"}),s.jsx("p",{children:e.stackTechnique}),s.jsx("h6",{className:"font-extrabold mt-2",children:"compétences développées"}),s.jsx("p",{children:e.competencesDeveloppees}),s.jsx("h6",{className:"font-extrabold mt-2",children:"résultats et impact"}),s.jsx("p",{children:e.resultatsEtImpact}),s.jsx("h6",{className:"font-extrabold mt-2",children:"perspectives d'amélioration"}),s.jsx("p",{children:e.perspectivesAmelioration})]})})]})}function ge({projectsPath:e}){const[n,t]=i.useState([]),[a,c]=i.useState(!0),[r]=i.useState(null),h=i.useRef(null);return i.useEffect(()=>{let d=!0;return(async()=>{try{const g=await fetch("./data/projects.json");if(!g.ok)throw new Error(`HTTP error: ${g.status}`);const S=await g.json();d&&(t(S),c(!1))}catch(g){d&&(g instanceof SyntaxError||g instanceof ReferenceError||g instanceof TypeError||g instanceof Error)&&console.log("error: "+g.message)}})(),()=>{d=!1}},[]),a?s.jsx("p",{children:"chargement des projets"}):r?s.jsxs("p",{children:["erreur: ",r]}):s.jsx("div",{ref:h,className:`
                flex
                flex-col
                justify-center
                items-center 
                h-screen 
                overflow-y-auto
                relative`,children:n.map(d=>s.jsx(K,{options:{root:h.current,rootMargin:"0px",threshold:0},children:s.jsx(fe,{project:d,projectsPath:e})},d.number))})}export{ge as default};
