import{j as e,r as c,b as m,u as x,L as u,a as h}from"./index-C53AFzHh.js";function p({logoPath:n,repo:a}){const s=n.split("/"),i=s[s.length-1].split(".")[0];return e.jsx("section",{children:e.jsx("a",{href:a,target:"_blank","aria-label":a,children:e.jsx("img",{src:n,alt:i,loading:"lazy",className:"m-2"})})})}function g({paths:n,repo:a}){let s=new Set;return n.forEach(t=>{s.add(e.jsx(p,{logoPath:t,repo:a},t))}),s.size>1?e.jsx("div",{className:`
                flex 
                flex-wrap 
                shrink-0 
                justify-between 
                items-center`,children:s}):s.size===1?s:e.jsx(e.Fragment,{})}function j({summary:n,children:a}){const s=c.useRef(null),[t,i]=c.useState(!1);return c.useEffect(()=>{const o=s.current;o&&(o.style.maxHeight=t?`${o.scrollHeight}px`:"0px")},[t]),e.jsxs("div",{className:` 
        w-full 
        rounded 
        shadow`,children:[e.jsxs("button",{type:"button","aria-expanded":t,onClick:()=>i(o=>!o),className:`
          w-full 
          cursor-pointer 
          list-none 
          flex 
          justify-between 
          items-center 
          px-4 
          py-3 
          font-semibold 
          text-blue-500 
          hover:bg-gray-700 
          focus-visible:bg-gray-700 
          focus-visible:outline-2 
          focus-visible:outline-blue-500
          select-none`,children:[n,e.jsx("span",{className:"sr-only",children:"(isOpen ? 'section ouverte' : 'section fermée' )"}),e.jsx("span",{"aria-hidden":"true",className:`
            inline-block 
            motion-safe:transition-transform 
            motion-safe:duration-600 
            motion-safe:ease-in-out 
            ${t?"rotate-180":"rotate-0"}
          `,children:"▼"})]}),e.jsx("div",{ref:s,style:{maxHeight:"0px"},className:`
          overflow-hidden 
          motion-safe:transition-[max-height] 
          motion-safe:duration-600 
          motion-safe:ease-in-out`,children:e.jsx("div",{className:`
            px-4 
            py-3`,children:a})})]})}function b({project:n,projectsPath:a}){const s=n.title.split(",")[0],t=m+a+n.fileName,i=new Set,{getLogoURI:o}=x();return n.logos.forEach(d=>{const l=o(d);i.add(l)}),e.jsxs("article",{className:`
            my-8 
            mx-4 
            bg-gray-900  
            max-w-lg   
            rounded-4xl 
            shadow-xs`,children:[e.jsxs("div",{className:`
                    p-6 
                    text-center`,children:[e.jsxs("span",{className:`
                        group 
                        relative 
                        inline-flex 
                        items-center 
                        bg-brand-softer 
                        text-fg-brand-strong 
                        text-xs 
                        font-medium 
                        px-1.5 
                        py-0.5 
                        rounded-sm`,children:[e.jsx("a",{href:n.URL,target:"_blank","aria-label":n.title,className:`
                            motion-safe:transition-transform 
                            motion-safe:duration-600 
                            motion-safe:ease-in-out 
                            motion-safe:hover:scale-110  
                            focus-visible:outline-2 
                            focus-visible:outline-blue-500 
                            hover:drop-shadow-[0_0_2em_rgba(100,108,255,0.6)] 
                            focus-visible:drop-shadow-[0_0_2em_rgba(100,108,255,0.6)]`,children:e.jsx("img",{src:t,className:`
                                w-full 
                                h-max 
                                transition-shadow 
                                duration-600 
                                ease-in-out`,alt:s,loading:"lazy"})}),e.jsx(u,{})]}),e.jsx("h4",{className:`
                        m-6 
                        text-2xl 
                        leading-loose 
                        text-orange-500 
                        font-semibold 
                        tracking-tight 
                        text-heading`,children:n.title}),e.jsx(g,{paths:i,repo:n.repository})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs(j,{summary:"Découvrez ce projet",children:[e.jsx("h5",{className:"font-extrabold mt-2",children:"contexte"}),e.jsx("p",{children:n.contexte}),e.jsx("h5",{className:"font-extrabold mt-2",children:"objectifs"}),e.jsx("p",{children:n.objectifs}),e.jsx("h5",{className:"font-extrabold mt-2",children:"stack technique"}),e.jsx("p",{children:n.stackTechnique}),e.jsx("h5",{className:"font-extrabold mt-2",children:"compétences développées"}),e.jsx("p",{children:n.competencesDeveloppees}),e.jsx("h5",{className:"font-extrabold mt-2",children:"résultats et impact"}),e.jsx("p",{children:n.resultatsEtImpact}),e.jsx("h5",{className:"font-extrabold mt-2",children:"perspectives d'amélioration"}),e.jsx("p",{children:n.perspectivesAmelioration})]})})]})}function y({projectsPath:n}){const[a,s]=c.useState([]),[t,i]=c.useState(!0),[o]=c.useState(null),d=c.useRef(null);return c.useEffect(()=>{let l=!0;return(async()=>{try{const r=await fetch("./data/projects.json");if(!r.ok)throw new Error(`HTTP error: ${r.status}`);const f=await r.json();l&&(s(f),i(!1))}catch(r){l&&(r instanceof SyntaxError||r instanceof ReferenceError||r instanceof TypeError||r instanceof Error)&&console.log("error: "+r.message)}})(),()=>{l=!1}},[]),t?e.jsx("p",{children:"chargement des projets"}):o?e.jsxs("p",{children:["erreur: ",o]}):e.jsx("div",{ref:d,className:`
                flex
                flex-col
                justify-center
                items-center 
                h-screen 
                overflow-y-auto
                relative`,children:a.map(l=>e.jsx(h,{options:{root:d.current,rootMargin:"0px",threshold:0},children:e.jsx(b,{project:l,projectsPath:n})},l.number))})}export{y as default};
